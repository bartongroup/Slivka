
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Getting Started &#8212; slivka 0.7b2 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Specification" href="specification.html" />
    <link rel="prev" title="Welcome to Slivka’s documentation!" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="specification.html" title="Specification"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to Slivka’s documentation!"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">slivka 0.7b2 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Slivka is a free software which provides easy and convenient means
for creating web services on your local computer, server or cluster.
It is written in Python and is available as a source code or from anaconda.</p>
<p>The core of the system is the scheduler which manages jobs execution,
parses command line arguments and delegates tasks to runners that
start new processes. It uses mongo database to store and exchange data
with the REST server which communicates with client applications –
takes their requests and provides information about running jobs.</p>
<figure class="align-default" id="id4">
<img alt="_images/overview.svg" src="_images/overview.svg" /><figcaption>
<p><span class="caption-text">Diagram of interactions between slivka system components.
The REST server pushes new requests to the database where
the scheduler picks them from and dispatches to the correct
runner. The instructions how to create web services and run
command line programs are taken from the config files.</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<section id="scheduler">
<h3>Scheduler<a class="headerlink" href="#scheduler" title="Permalink to this headline">¶</a></h3>
<p>The scheduler sits in the middle of the job processing and controls other
components.
When the scheduler is started, it creates runners (more on that later)
for each web service specified in the configuration files.
After that, it enters its main operation mode in which it constantly monitors
the database and running jobs. Whenever a new request appears in the
database, the scheduler converts job parameters such as files, flags
and other input provided by the user into command line arguments.
They are then passed to the runner for execution and the scheduler
starts watching the job execution and writes its current status
back to the database.</p>
</section>
<section id="rest-server">
<h3>REST server<a class="headerlink" href="#rest-server" title="Permalink to this headline">¶</a></h3>
<p>REST server complements the scheduler providing a web interface
which users and client applications can use to submit new jobs
to the system.
On startup, it creates a form for each service specified in the
configuration file. The form contains the list of parameters
which the user is expected to provide to start the job.
Each parameter comes with label, description, type and
optional constraints telling the user what values are allowed.
When the job request with input parameters is received from the
client, the values are validated and, if correct, saved to
the database for the scheduler to pick them up.
As the job is running, the server also provides job status monitoring
and retrieving output files.</p>
</section>
<section id="runners">
<h3>Runners<a class="headerlink" href="#runners" title="Permalink to this headline">¶</a></h3>
<p>While talking about the scheduler, we mentioned that it passes jobs to
the runners for execution. Runners are internal parts of the slivka system
(custom Runners can be created though) providing an interface
between the scheduler and the software available on the operating system.
Each runner provides code that can start command line programs
and monitor their execution state. If you are an advanced user,
this allows you to write plug-ins that run your programs in new ways.</p>
</section>
<section id="config-files">
<h3>Config files<a class="headerlink" href="#config-files" title="Permalink to this headline">¶</a></h3>
<p>Configuration files live outside of the slivka module and provide
system settings and service information. As a system
administrator, you are responsible for creating and maintaining
those configuration files, so the rest of this tutorial will be mostly
dedicated to them.</p>
</section>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Slivka is provided as a source code and an Anaconda package. Using
conda is strongly recommended, but it can also be installed with pip
or setuptools once the source code is obtained. Make sure that the
programs you intend to run are accessible from where the slivka is
installed (machine or VM). They don’t have to be in the same virtual
python/conda environment though.</p>
<p>Installation requires Python 3.5+ (version 3.7 recommended).
Additional requirements that will be downloaded and installed
automatically, include:</p>
<ul class="simple">
<li><p>attrs (&gt;=19)</p></li>
<li><p>click (&gt;=7.0)</p></li>
<li><p>Flask (&gt;=1.0)</p></li>
<li><p>frozendict (&gt;=1.2)</p></li>
<li><p>gunicorn (&gt;=19.9) (optional)</p></li>
<li><p>jsonschema (&gt;=2.5.1)</p></li>
<li><p>MarkupSafe (&gt;=1.0)</p></li>
<li><p>pymongo (&gt;=3.7)</p></li>
<li><p>PyYAML (&gt;=3.11)</p></li>
<li><p>pyzmq (&gt;=17.0)</p></li>
<li><p>simplejson (&gt;=3.16)</p></li>
<li><p>uwsgi (&gt;=2.0) (optional)</p></li>
<li><p>Werkzeug (&gt;=0.15)</p></li>
</ul>
<section id="installing-with-conda">
<h3>Installing with conda<a class="headerlink" href="#installing-with-conda" title="Permalink to this headline">¶</a></h3>
<p>Conda installation is recommended due to its simplicity. If you want
to use a dedicated virtual environment create it and install slivka with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="o">&lt;</span><span class="n">env</span><span class="o">&gt;</span> <span class="n">python</span><span class="o">=</span><span class="mf">3.7</span>
<span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">n</span> <span class="o">&lt;</span><span class="n">env</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">c</span> <span class="n">slivka</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="n">slivka</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="o">&lt;</span><span class="n">env</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>substituting the environment name (e.g. slivka) for <code class="docutils literal notranslate"><span class="pre">&lt;env&gt;</span></code>.
More information can be found in <a class="reference external" href="https://conda.io/en/latest/">conda documentation</a>.</p>
</section>
<section id="installing-from-sources">
<h3>Installing from sources<a class="headerlink" href="#installing-from-sources" title="Permalink to this headline">¶</a></h3>
<p>If you are a developer wanting to tweak slivka code to own needs
or you simply don’t want to depend on conda then installation from
sources is the way to go.</p>
<p>Either clone the git repository <code class="docutils literal notranslate"><span class="pre">https://github.com/bartongroup/slivka.git</span></code>
or download and extract the zip archive available <a class="reference external" href="https://github.com/bartongroup/slivka/archive/dev.zip">here</a>. We suggest using
a more up-to-date development branch until the first stable version
is released.</p>
<p>Navigate to the package directory (the one containing <em>setup.py</em>) and run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
<p>You can also use a shortcut command which automatically installs slivka
from the git repository with pip</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">git</span><span class="o">+</span><span class="n">git</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">bartongroup</span><span class="o">/</span><span class="n">slivka</span><span class="o">.</span><span class="n">git</span><span class="nd">@dev</span>
</pre></div>
</div>
</section>
<section id="mongo-database">
<h3>Mongo database<a class="headerlink" href="#mongo-database" title="Permalink to this headline">¶</a></h3>
<p>Slivka makes use of a <a class="reference external" href="https://www.mongodb.com">mongo database</a> to store data and exchange
messages between its components which is crucial for its operation.
If you do not have mongodb running on your system you can install it
locally in your conda environment or ask your system administrator
to install it system-wide.</p>
</section>
</section>
<section id="running-slivka">
<h2>Running slivka<a class="headerlink" href="#running-slivka" title="Permalink to this headline">¶</a></h2>
<section id="creating-new-project">
<h3>Creating new project<a class="headerlink" href="#creating-new-project" title="Permalink to this headline">¶</a></h3>
<p>A slivka project is a single instance of slivka with its own settings
and collection of services. You can create as many instances as you want
each running in a separate directory.</p>
<p>During installation, a <code class="docutils literal notranslate"><span class="pre">slivka</span></code> executable was created and added to
your path. It can be used to initialize new projects and run slivka.</p>
<p>Let us start with initializing an empty project. To do this, run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">slivka</span> <span class="n">init</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>replacing <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> with the name of the directory where the configuration
files will be stored in.
Use <code class="docutils literal notranslate"><span class="pre">.</span></code> if you wish to set-up the project in the current directory.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the executable is not accessible from the PATH it can also be
run as a python module</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">slivka</span> <span class="p">[</span><span class="n">args</span><span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
</div>
<p>The newly created directory will contain default setting files and
an example service. In the following sections we will walk through the
process of creating and configuring new services.</p>
</section>
<section id="starting-up">
<h3>Starting up<a class="headerlink" href="#starting-up" title="Permalink to this headline">¶</a></h3>
<p>At this point you are ready to launch a newly created slivka project.
Navigate to the project directory and start three processes</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">slivka</span> <span class="n">start</span> <span class="n">server</span> <span class="o">&amp;</span>
<span class="n">slivka</span> <span class="n">start</span> <span class="n">scheduler</span> <span class="o">&amp;</span>
<span class="n">slivka</span> <span class="n">start</span> <span class="n">local</span><span class="o">-</span><span class="n">queue</span> <span class="o">&amp;</span>
</pre></div>
</div>
<p>It launches a HTTP server, a scheduler and a simple worker queue locally
(<code class="docutils literal notranslate"><span class="pre">&amp;</span></code> runs them in background, use <code class="docutils literal notranslate"><span class="pre">fg</span></code> command to bring them back).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If your mongo database is listening on port other than the default
or any of the ports used by slivka is already in use you can
change them in the <em>settings.yaml</em> file.</p>
</div>
</section>
<section id="submitting-job">
<h3>Submitting job<a class="headerlink" href="#submitting-job" title="Permalink to this headline">¶</a></h3>
<p>Now, you can send a GET request or navigate with your web browser to
<a class="reference external" href="http://127.0.0.1:8000/api/services">http://127.0.0.1:8000/api/services</a> to see the list of currently
available services, or one “Example Service” to be specific.</p>
<p>Moving on to <em>/api/services/example</em> will show you the details of
the service along with the list of form fields a.k.a. input parameters
of that service. Don’t worry if the details doesn’t make much sense
yet. For now, notice one field named <em>msg</em> which we are going to use.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;msg&quot;</span><span class="p">,</span>
  <span class="nt">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Message&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Message printed to the output file&quot;</span><span class="p">,</span>
  <span class="nt">&quot;required&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;multiple&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nt">&quot;default&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="nt">&quot;minLength&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="nt">&quot;maxLength&quot;</span><span class="p">:</span> <span class="mi">15</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This tells us that one of the parameters the example service accepts
is named “msg”, it is a required parameter of a text type and its length should be
between 3 and 15 characters. In order to submit a new job, send a POST
request to that endpoint providing a value for the <em>msg</em> parameter.
In our examples we are Using curl, a command line tool for transferring
data over network protocols. More information can be found on the
<a class="reference external" href="https://curl.se/">cURL website</a>.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>curl -d<span class="s2">&quot;msg=hello world&quot;</span> http://localhost:8000/api/services/example
</pre></div>
</div>
<p>Congratulations, you’ve just submitted the first job to your slivka
instance. You should have received the id of the newly created job and
slivka should have started working on it. The server response will look
like this:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;statuscode&quot;</span><span class="p">:</span> <span class="mi">202</span><span class="p">,</span>
  <span class="nt">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;job uuid&gt;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;URI&quot;</span><span class="p">:</span> <span class="s2">&quot;/api/tasks/&lt;job uuid&gt;&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You can follow the <em>URI</em> to see the current job status and get another URI
pointing to the output files.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;statuscode&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;COMPLETED&quot;</span><span class="p">,</span>
  <span class="nt">&quot;ready&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;filesURI&quot;</span><span class="p">:</span> <span class="s2">&quot;/api/tasks/&lt;job uuid&gt;/files&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="configuring-services">
<h2>Configuring services<a class="headerlink" href="#configuring-services" title="Permalink to this headline">¶</a></h2>
<p>Until now, we’ve only seen slivka using the existing example
service. In this section we will take a closer look into the configuration
file of the example service and learn how to create our own services.</p>
<p>First, navigate to the <em>services</em> folder in your slivka project directory.
It contains a single <em>example.service.yaml</em> file which contains the
service information. In fact, any file in this directory, whose name
ends with <em>service.yaml</em>, is automatically recognised as a service
definition. In this part we will go through each section of the file.
The configuration files are written in <a class="reference external" href="https://yaml.org/">yaml</a>, so make sure you are
familiar with the yaml syntax before continuing.</p>
<section id="service-metadata">
<h3>Service metadata<a class="headerlink" href="#service-metadata" title="Permalink to this headline">¶</a></h3>
<p>First of all, lines starting with <code class="docutils literal notranslate"><span class="pre">#</span></code> are comments and are ignored
by the program so they can be used for making notes.
The first couple of lines is a good place to write a few comments
briefly describing the service including information for
anyone who is going to maintain those files.</p>
<p>Next comes the label of the service. This is a human-readable name of the
service which will be displayed to users (the internal service name
is derived from the file name). Use meaningful labels which
allow to recognise what program the service is running.</p>
<p>After that you can see a list of classifiers. This element is optional
and can be used to tag and categorise the services. One use case is to
provide additional information to client applications.</p>
</section>
<section id="form">
<h3>Form<a class="headerlink" href="#form" title="Permalink to this headline">¶</a></h3>
<p>This section usually makes the most of the configuration file. This is
the place where the input parameters for the service are defined.
Slivka uses those to construct input forms which you already saw when
going through the job submission process. Each key represents a unique
field name which serves as an identifier and is used as a parameter
name in a HTTP request. Preferably, it should contain lowercase letters
dashes and underscores only.</p>
<p>There are three values nested under each field: <em>label</em>, <em>description</em>
and <em>value</em>. <em>Label</em> is a full name of the field which client applications
are going to display to the users. Just like with the service labels,
field labels should be relatively short and meaningful to the users.
Next, there is a <em>description</em> parameter containing detailed help text
for the field. It should contain all the information about the parameter
such as allowed values or effects it has on the program execution.
The last parameter – <em>value</em> – describes constraints imposed on the
field value. Specifying the parameter type is required. Additionally,
you can set whether the field is required (default is yes) and specify
a default value used when no value is given by the user. Allowed types
and type specific parameters are described in the
<a class="reference internal" href="specification.html#value-object-spec"><span class="std std-ref">value object</span></a> specification.</p>
</section>
<section id="command">
<h3>Command<a class="headerlink" href="#command" title="Permalink to this headline">¶</a></h3>
<p>The <em>command</em> section is a complementary part to the <em>form</em>. It contains
information on how to run the command line program, connects form
parameters to the command line arguments and specify output files.
Our example service runs an <em>example.py</em> service located in the <em>scripts</em>
directory under the project directory. The command has the following syntax</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>example.py --infile &lt;input&gt; -t &lt;message&gt; -r &lt;repeat&gt; -w &lt;sleep&gt; --log -v &lt;output&gt;
</pre></div>
</div>
<section id="base">
<h4>Base<a class="headerlink" href="#base" title="Permalink to this headline">¶</a></h4>
<p>First, the configuration file defines a <em>baseCommand</em> which is a base
executable that other arguments are appended to. In this case we want to
run the example script with current python interpreter.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>python ${SLIVKA_HOME}/scripts/example.py
</pre></div>
</div>
<p>You are free to include environment variables using standard bash syntax.
In this case, we uses <em>SLIVKA_HOME</em> which is a variable set on slivka
startup that points to the project directory.</p>
</section>
<section id="inputs">
<h4>Inputs<a class="headerlink" href="#inputs" title="Permalink to this headline">¶</a></h4>
<p>The following part called <em>inputs</em> is, not coincidentally, similar to the form
section. It specifies how each value from the form is translated to the
command line argument. Each form field is connected to it’s corresponding
field in the input parameters list which in turn corresponds to the command
line parameters (see the example command above).</p>
<p>Our <em>example.py</em> command takes an input file <code class="docutils literal notranslate"><span class="pre">--input</span> <span class="pre">&lt;input&gt;</span></code> as the
first parameter. Therefore, we specify <em>input-file</em> parameter which will
take the file from the <em>input-file</em> form field. Then, we define how
the argument shall look like in the command, that is <code class="docutils literal notranslate"><span class="pre">--input</span> <span class="pre">$(value)</span></code>.
Slivka uses <code class="docutils literal notranslate"><span class="pre">$(value)</span></code> (notice round brackets) as a placeholder
for the actual value that will be set later.
Next comes the type of the argument; in this case it’s
a <em>file</em>, but other possibilities are: <em>string</em> (default), <em>number</em>,
<em>flag</em> and <em>array</em>. File type allows to specify additional <em>symlink</em> parameter
which, if present, makes slivka create a symlink to the input file inside the
process’ working directory and pass relative path to the symlink as
a value instead of the full path to the file. This is particularly useful
for programs that require all input files to be present in the
current working directory.</p>
<p>Remaining parameters follow the same syntax as the first one mapping
form fields to the consecutive parameters of the example script.
The only exception is the last parameter <em>_verbose</em> which doesn’t
have a matching field. It demonstrates that you can add parameters which
are not present in the form but you must provide their <em>value</em> explicitly.
We suggest using names starting with an underscore for those detached
arguments.</p>
<p>Slivka preserves parameters order when parsing the file, so the
arguments are passed to the command line program in the same order
they are defined here.</p>
</section>
<section id="arguments">
<h4>Arguments<a class="headerlink" href="#arguments" title="Permalink to this headline">¶</a></h4>
<p>The <em>arguments</em> part contains the list of constant arguments that will be appended
to each command. It might be convenient to define them in cases when the program takes
modifiable options followed by constant parameters. In many cases, however,
this part can be skipped as detached input parameters provide the same
functionality.</p>
</section>
<section id="environment-variables">
<h4>Environment variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h4>
<p>If your program requires a special set of environment variables, they
should be specified in the <em>env</em> part as a mapping of variable name to
its new value.
You are free to use current system environment variables in the value
but cross-references and recursive definitions are not supported.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">env</span><span class="p">:</span>
  <span class="nt">PATH</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${HOME}/bin:${PATH}</span>
</pre></div>
</div>
<p>Here, we set <em>PATH</em> variable to the current <em>PATH</em> with <em>~/bin</em>
prepended.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Slivka runs each program in a new environment passing only <em>PATH</em> and
<em>SLIVKA_HOME</em> variables in addition to those provided in <em>env</em>.
All other variables are stripped off.</p>
</div>
</section>
<section id="outputs">
<h4>Outputs<a class="headerlink" href="#outputs" title="Permalink to this headline">¶</a></h4>
<p>Last but not least, the <em>outputs</em> part defines output files created
by the program. Each file (or group of files) is given by the name-key
under which you specify the <em>path</em> to the file (relative to the process’
working directory). Path can be a file name or a <a class="reference external" href="https://en.wikipedia.org/wiki/Glob_(programming)">glob</a> pattern.
Standard output and error streams are directed to the <em>stdout</em> and <em>stderr</em>
files respectively, use those names if you want to include them.
Additionally, you can provide a <em>media-type</em> to help
web browsers and clients recognise the file type.</p>
</section>
</section>
<section id="id3">
<h3>Runners<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>Once the program details are specified, it’s  time to define runners that
will be used to execute the job. In the <em>runners</em> sections, specify
the <em>default</em> runner setting its <em>class</em> to either <code class="docutils literal notranslate"><span class="pre">SlivkaQueueRunner</span></code>
so it will be run with the slivka worker queue, or <code class="docutils literal notranslate"><span class="pre">GridEngineRunner</span></code>
to use <code class="docutils literal notranslate"><span class="pre">qsub</span></code> to start the jobs. GridEngineRunner also allows additional
parameter named <em>qsub_args</em> containing a list of arguments passed
directly to <code class="docutils literal notranslate"><span class="pre">qsub</span></code>. Example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">default</span><span class="p">:</span>
  <span class="nt">class</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">GridEngineRunner</span>
  <span class="nt">parameters</span><span class="p">:</span>
    <span class="nt">qsub_args</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">-P</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">webservices</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">-q</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">64bit-pri.q</span>
</pre></div>
</div>
<p>More detailed information regarding runner definition can be found in
the <a class="reference internal" href="specification.html#runners-spec"><span class="std std-ref">runner</span></a> specification.</p>
</section>
<section id="build-your-service">
<h3>Build your service<a class="headerlink" href="#build-your-service" title="Permalink to this headline">¶</a></h3>
<p>At this point you should have enough information to create your own services.
As an exercise, try creating a <em>greeter</em> service which takes a name
from the user and uses <code class="docutils literal notranslate"><span class="pre">echo</span></code> command to output “Hello &lt;name&gt;.
Have a nice day.” Try using as much elements as you can such as
environment variables, detached parameters and arguments list.</p>
<p>After that, start slivka and try submitting the job to your service and
retrieve the result.</p>
</section>
</section>
</section>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Getting Started</a><ul>
<li><a class="reference internal" href="#overview">Overview</a><ul>
<li><a class="reference internal" href="#scheduler">Scheduler</a></li>
<li><a class="reference internal" href="#rest-server">REST server</a></li>
<li><a class="reference internal" href="#runners">Runners</a></li>
<li><a class="reference internal" href="#config-files">Config files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#installation">Installation</a><ul>
<li><a class="reference internal" href="#installing-with-conda">Installing with conda</a></li>
<li><a class="reference internal" href="#installing-from-sources">Installing from sources</a></li>
<li><a class="reference internal" href="#mongo-database">Mongo database</a></li>
</ul>
</li>
<li><a class="reference internal" href="#running-slivka">Running slivka</a><ul>
<li><a class="reference internal" href="#creating-new-project">Creating new project</a></li>
<li><a class="reference internal" href="#starting-up">Starting up</a></li>
<li><a class="reference internal" href="#submitting-job">Submitting job</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuring-services">Configuring services</a><ul>
<li><a class="reference internal" href="#service-metadata">Service metadata</a></li>
<li><a class="reference internal" href="#form">Form</a></li>
<li><a class="reference internal" href="#command">Command</a><ul>
<li><a class="reference internal" href="#base">Base</a></li>
<li><a class="reference internal" href="#inputs">Inputs</a></li>
<li><a class="reference internal" href="#arguments">Arguments</a></li>
<li><a class="reference internal" href="#environment-variables">Environment variables</a></li>
<li><a class="reference internal" href="#outputs">Outputs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id3">Runners</a></li>
<li><a class="reference internal" href="#build-your-service">Build your service</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to Slivka’s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="specification.html"
                        title="next chapter">Specification</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/getting_started.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="specification.html" title="Specification"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to Slivka’s documentation!"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">slivka 0.7b2 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Mateusz Maciej Warowny.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>
  </body>
</html>