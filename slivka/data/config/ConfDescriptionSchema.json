{
  "type": "object",
  "properties": {
    "options": {
      "type": "array",
      "items": {"$ref": "#/definitions/option"},
      "additionalItems": false
    },
    "results": {
      "type": "array",
      "items": {"$ref": "#/definitions/result"},
      "additionalItems": false
    },
    "configurations": {
      "type": "object",
      "additionalProperties": {"$ref": "#/definitions/configuration"}
    },
    "limits": {
      "type": "string",
      "pattern": "^[A-Za-z_]\\w*(?:\\.[A-Za-z_]\\w*)*$"
    }
  },
  "additionalProperties": false,
  "required": ["options", "results", "configurations"],
  "definitions": {
    "option": {
      "type": "object",
      "properties": {
        "ref": {"type": "string"},
        "param": {"type": "string"},
        "val": {"type": "string"}
      },
      "additionalProperties": false,
      "required": ["ref", "param"]
    },
    "result": {
      "type": "object",
      "properties": {
        "type": {
          "enum": ["output", "error", "log"]
        },
        "mimetype": {"type": "string"},
        "title": {"type": "string"},
        "path": {"type": "string"}
      },
      "required": ["type", "path"],
      "additionalProperties": false
    },
    "configuration": {
      "type": "object",
      "properties": {
        "runner": {"type": "string"},
        "executable": {"type": "string"},
        "env": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              }
            },
            {
              "type": "null"
            }
          ]
        },
        "queueArgs": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              },
              "additionalItems": false
            },
            {
              "type": "null"
            }
          ]
        }
      },
      "additionalProperties": false,
      "required": ["runner", "executable"]
    }
  }
}
