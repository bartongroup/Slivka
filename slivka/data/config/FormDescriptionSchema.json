{
  "type": "object",
  "properties": {
    "version": {"type": "string"}
  },
  "additionalProperties": {"$ref": "#/definitions/field"},

  "definitions": {
    "field": {
      "title": "form field validation schema",
      "type": "object",
      "properties": {
        "label": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "value": {
          "anyOf": [
            {"$ref": "#/definitions/integerField"},
            {"$ref": "#/definitions/decimalField"},
            {"$ref": "#/definitions/textField"},
            {"$ref": "#/definitions/booleanField"},
            {"$ref": "#/definitions/choiceField"},
            {"$ref": "#/definitions/fileField"}
          ]
        }
      },
      "additionalProperties": false,
      "required": ["label", "value"]
    },

    "integerField": {
      "title": "integer value validation schema",
      "type": "object",
      "properties": {
        "type": {"enum": ["int"]},
        "min": {"type": "integer"},
        "max": {"type": "integer"},
        "default": {
          "type": "integer"
        },
        "required": {
          "type": "boolean"
        }
      },
      "additionalProperties": false,
      "required": ["type"]
    },

    "decimalField": {
      "title": "decimal value validation schema",
      "type": "object",
      "properties": {
        "type": {"enum": ["float"]},
        "min": {"type": "number"},
        "max": {"type": "number"},
        "minExclusive": {"type": "boolean"},
        "maxExclusive": {"type": "boolean"},
        "default": {
          "type": "number"
        },
        "required": {
          "type": "boolean"
        }
      },
      "additionalProperties": false,
      "required": ["type"]
    },

    "textField": {
      "title": "text value validation schema",
      "type": "object",
      "properties": {
        "type": {"enum": ["text"]},
        "minLength": {
          "type": "integer",
          "minimum": 0
        },
        "maxLength": {
          "type": "integer",
          "minimum": 0
        },
        "default": {
          "type": "string"
        },
        "required": {
          "type": "boolean"
        }
      },
      "additionalProperties": false,
      "required": ["type"]
    },

    "booleanField": {
      "title": "boolean value validation schema",
      "type": "object",
      "properties": {
        "type": {"enum": ["boolean"]},
        "default": {
          "type": "boolean"
        },
        "required": {
          "type": "boolean"
        }
      },
      "additionalProperties": false,
      "required": ["type"]
    },

    "choiceField": {
      "title": "choice value validation schema",
      "type": "object",
      "properties": {
        "type": {"enum": ["choice"]},
        "choices": {
          "type": "object",
          "additionalProperties": {"type": "string"},
          "minProperties": 1
        },
        "default": {
          "type": "string"
        },
        "required": {
          "type": "boolean"
        }
      },
      "additionalProperties": false,
      "required": ["type"]
    },

    "fileField": {
      "title": "file value validation schema",
      "type": "object",
      "properties": {
        "type": {"enum": ["file"]},
        "mimetype": {"type": "string"},
        "extension": {"type": "string"},
        "maxSize": {
          "type": "string",
          "pattern": "^\\d+\\s*(|K|M|G|T)B$"
        },
        "required": {
          "type": "boolean"
        }
      },
      "additionalProperties": false,
      "required": ["type"]
    }
  }
}
